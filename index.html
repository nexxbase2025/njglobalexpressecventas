<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>NJ Global Express EC</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#0b1020" />
  <link rel="icon" href="logo.png" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <img class="logo" id="logoTap" src="logo.png" alt="logo" />
    
<div class="brand">
  <div class="name" id="appNameLine1">NJ Global</div>
  <div class="name" id="appNameLine2" class="name name2" style="margin-top:2px;">Express EC</div>
  <div class="sub" id="subtitle">Compras Ecuador</div>
</div>

<div class="actions">

      <button class="btn aqua" id="btnTrack">Rastrear</button>
      <button class="btn" id="btnShare">Compartir</button>
      <button class="btn" id="btnHow">¬øC√≥mo comprar?</button>
<button class="btn" id="btnInstall" style="display:none;">Instalar</button>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <div style="min-width:0">
        <h1>Productos Americanos</h1>
        <p>Para agregar al carrito, primero completa tus datos de env√≠o.</p>
      </div>
      <div class="right">
        <button class="btn primary" id="btnMyData">Mis datos</button>
      </div>
    </section>

    <section class="pills" id="catPills"></section>
    <section class="subpills" id="subPills"></section>

    <section class="grid" id="grid"></section>


<footer class="footerbar">
  <button class="socialbtn" id="igBtn" aria-label="Instagram" title="Instagram">
    <span class="sicon">
      <svg viewBox="0 0 24 24" fill="none"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5Z" stroke="currentColor" stroke-width="2"/><path d="M12 17a5 5 0 1 0 0-10 5 5 0 0 0 0 10Z" stroke="currentColor" stroke-width="2"/><path d="M17.5 6.5h.01" stroke="currentColor" stroke-width="3" stroke-linecap="round"/></svg>
    </span>
    <span>Instagram</span>
  </button>

  <button class="socialbtn" id="ttBtn" aria-label="TikTok" title="TikTok">
    <span class="sicon">
      <svg viewBox="0 0 24 24" fill="none"><path d="M14 3v10.2a3.8 3.8 0 1 1-3-3.7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M14 6c1.1 2.4 3 3.9 6 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
    </span>
    <span>TikTok</span>
  </button>

  <button class="socialbtn" id="fbBtn" aria-label="Facebook" title="Facebook">
    <span class="sicon">
      <svg viewBox="0 0 24 24" fill="none"><path d="M14 9h3V6h-3c-2.2 0-4 1.8-4 4v3H7v3h3v6h3v-6h3l1-3h-4v-3c0-.6.4-1 1-1Z" fill="currentColor"/></svg>
    </span>
    <span>Facebook</span>
  </button>
</footer>
  </main>

  <button class="fab" id="btnCart">üõí <span>Carrito</span> <span class="badge" id="cartCount">0</span></button>

  <div class="toast" id="iosHint">
    <div class="row">
      <div style="font-weight:980;">Instalar en iPhone</div>
      <button class="btn" id="iosClose" style="margin-left:auto;">OK</button>
    </div>
    <div class="hint">Toca <b>Compartir</b> (cuadrado con flecha) ‚Üí <b>A√±adir a pantalla de inicio</b>.</div>
  </div>

  <div class="modal" id="modalHow">
    <div class="sheet">
      <div class="row">
        <h2>C√≥mo comprar</h2>
        <button class="close" data-close="modalHow">‚úï</button>
      </div>
      <div class="small" style="margin-top:6px">Tus datos se usan √∫nicamente para procesar y enviar tu pedido.</div>
      <ol style="margin:10px 0 0; padding-left:18px; line-height:1.5; font-size:13px;">
        <li>Completa tus <b>datos de env√≠o</b> (c√©dula, direcci√≥n, tel√©fono).</li>
        <li>Elige la <b>categor√≠a</b> y agrega tus productos.</li>
        <li id="howPayLine"><b>Pago</b>: transferencia/dep√≥sito.</li>
        <li>Sube la captura del comprobante.</li>
        <li>Te enviamos el <b>n√∫mero de gu√≠a</b> para rastrear en Servientrega.</li>
      </ol>
      <div style="margin-top:12px; display:flex; justify-content:flex-end;">
        <button class="btn" data-close="modalHow">Entendido</button>
      </div>
    </div>
  </div>

  <div class="modal" id="modalReg">
    <div class="sheet">
      <div class="row">
        <h2>Datos de env√≠o</h2>
        <button class="close" data-close="modalReg">‚úï</button>
      </div>
      <div class="small" style="margin-top:6px">Para agregar productos, primero completa tus datos.</div>

      <div class="form">
        <input class="input" id="fullName" placeholder="Nombres y apellidos" />
        <div class="two">
          <input class="input" id="cedula" placeholder="C√©dula" />
          <input class="input" id="phone" placeholder="Tel√©fono" />
        </div>
        <input class="input" id="city" placeholder="Ciudad" />
        <input class="input" id="address" placeholder="Direcci√≥n completa" />
        <input class="input" id="reference" placeholder="Referencia (opcional)" />
        <div class="row" style="gap:10px;">
          <button class="btn" data-close="modalReg" style="flex:1;">Cancelar</button>
          <button class="btn primary" id="saveShipping" style="flex:1;">Guardar</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="modalCart">
    <div class="sheet">
      <div class="row">
        <h2>Carrito</h2>
        <button class="close" data-close="modalCart">‚úï</button>
      </div>

      <div class="cartlist" id="cartList"></div>

      <div class="panel" id="payPanel" style="display:none;">
        <div style="font-weight:980; font-size:14px;">Pago</div>

        <div style="margin-top:10px; font-size:13px; display:grid; gap:4px;">
          <div class="row"><span class="small">Subtotal</span><span style="margin-left:auto; font-weight:980;" id="subtotal">$0.00</span></div>
          <div class="row"><span class="small">Env√≠o</span><span style="margin-left:auto; font-weight:980;" id="shippingLabel">Se confirma</span></div>
          <div class="hr"></div>
          <div class="row"><span style="opacity:.92; font-weight:980;" id="dueLabel">Pago ahora</span><span style="margin-left:auto; font-weight:980;" id="dueNow">$0.00</span></div>
        </div>

        <div style="margin-top:10px; font-size:12px; opacity:.95;">
          <div style="font-weight:980; margin-bottom:6px;">Cuentas para pago:</div>
          <div id="banks" class="bankList"></div>
        </div>

        <div class="form" style="margin-top:10px;">
          <div class="row" style="align-items:center;">
            <div class="small" style="flex:1;">Si ya sabes el env√≠o, pon el valor (opcional)</div>
            <input class="input" id="shippingCost" type="number" value="0" style="width:140px; text-align:right;" />
          </div>

          <div class="filewrap">
            <label class="filebtn" for="proof">Comprobante de pago</label>
            <div class="small" style="font-weight:950; margin-bottom:6px;">Sube foto o captura del comprobante</div>
            <!-- input oculto (sin bot√≥n duplicado) -->
            <input class="input" id="proof" type="file" accept="image/*" style="position:absolute; left:-9999px; width:1px; height:1px; opacity:0;" />
            <div class="small" id="proofName" style="margin-top:6px; opacity:.85; cursor:pointer;">Ning√∫n archivo seleccionado</div>
          </div>
          <button class="btn primary" id="btnPlaceOrder">Realizar pedido</button>

          <div id="orderResult" class="panel" style="margin-top:12px; display:none;">
            <div style="font-weight:980;">‚úÖ Pedido creado</div>
            <div class="small" id="orderResultText" style="margin-top:6px;"></div>
            <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:10px;">
              <button class="btn primary" id="btnSendWhats" type="button">Enviar por WhatsApp</button>
              <button class="btn" id="btnNewOrder" type="button">Seguir comprando</button>
            </div>
          </div>

          <div class="small">Se crea un ID y luego t√∫ decides si lo env√≠as por WhatsApp.</div>
        </div>
      </div>

      <div class="panel">
        <div style="font-weight:980; font-size:14px;">Mis pedidos</div>
        <div id="ordersList" class="cartlist" style="margin-top:10px;"></div>
      </div>
    </div>
  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
